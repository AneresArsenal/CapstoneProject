{% extends "base.html" %} {% block content %}
<div class="jumbotron rounded-0">
    <div class="container text-center">
        <div id="jumbo-text">
            <h1 class="display-4">Menufy</h1>
            <p class="lead">Welcome to {{restaurant_name}} Business Page</p>
        </div>
    </div>
</div>
{% if restaurant_username %}

<div>
    <!-- <form id="business_orders_form{{restaurant_id}}" method="POST" action="/order/{{restaurant_id}}">
        <table class="table table-hover table-striped table-dark">
            <tbody id="order">
            </tbody>
        </table>
    </form> -->

    <table class="table table-hover table-striped table-dark" id="account-table">
    </table>

    <!-- <div id="account">

    </div> -->

    <script type="text/javascript">
        var data = JSON.parse('{{ data | safe }}');
        // var transform = {
        //     "<>": "div",
        //     "class": "container",
        //     "children": [{
        //         "<>": "div",
        //         "class": "row",
        //         "html": '${restaurant_id}'
        //     }, {
        //         "<>": "div",
        //         "class": "row",
        //         "html": '${restaurant_name}'
        //     }, {
        //         "<>": "div",
        //         "class": "row",
        //         "html": '${restaurant_city}'
        //     }, {
        //         "<>": "div",
        //         "class": "row",
        //         "html": '${restaurant_address_line1}'
        //     }, {
        //         "<>": "div",
        //         "class": "row",
        //         "html": '${restaurant_address_line2}'
        //     }, {
        //         "<>": "div",
        //         "class": "row",
        //         "html": '${restaurant_state}'
        //     }, {
        //         "<>": "div",
        //         "class": "row",
        //         "html": '${restaurant_phone_num}'
        //     }, {
        //         "<>": "div",
        //         "class": "row",
        //         "html": '${restaurant_postal_code}'
        //     }]
        // }
        // $('#account').html(json2html.transform(data, transform));

        var transform = {
            "<>": "tbody",
            "children": [{
                "<>": "tr",
                "children": [{
                    "<>": "td",
                    "html": 'Restaurant ID'
                }, {
                    "<>": "td",
                    "html": '${restaurant_id}'
                }]
            }, {
                "<>": "tr",
                "children": [{
                    "<>": "td",
                    "html": 'Restaurant Name'
                }, {
                    "<>": "td",
                    "html": '${restaurant_name}'
                }]
            }, {
                "<>": "tr",
                "children": [{
                    "<>": "td",
                    "html": 'City'
                }, {
                    "<>": "td",
                    "html": '${restaurant_city}'
                }]
            }, {
                "<>": "tr",
                "children": [{
                    "<>": "td",
                    "html": 'Address Line 1'
                }, {
                    "<>": "td",
                    "html": '${restaurant_address_line1}'
                }]
            }, {
                "<>": "tr",
                "children": [{
                    "<>": "td",
                    "html": 'Address Line 2'
                }, {
                    "<>": "td",
                    "html": '${restaurant_address_line2}'
                }]
            }, {
                "<>": "tr",
                "children": [{
                    "<>": "td",
                    "html": 'State'
                }, {
                    "<>": "td",
                    "html": '${restaurant_state}'
                }]
            }, {
                "<>": "tr",
                "children": [{
                    "<>": "td",
                    "html": 'Contact Number'
                }, {
                    "<>": "td",
                    "html": '${restaurant_phone_num}'
                }]
            }, {
                "<>": "tr",
                "children": [{
                    "<>": "td",
                    "html": 'Postal Code'
                }, {
                    "<>": "td",
                    "html": '${restaurant_postal_code}'
                }]
            }]
        };
        $('#account-table').html(json2html.transform(data, transform));

        // $('.sub').click(function() {
        //     if ($(this).next().val() > 0) $(this).next().val(+$(this).next().val() - 1);
        // });
    </script>
</div>

<div class="list-group">

    <a class="list-group-item  list-group-item-active" id="get-orders" method="GET" href="/business/{{restaurant_id}}/orders"> Current Orders</a>

    <a class="list-group-item list-group-item-active" id="get-inventory" method="GET" href="/business/{{restaurant_id}}/inventory"> Inventory Levels</a>


</div>
{% endif %} {% endblock %}